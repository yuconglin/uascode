1.edit /opt/ros/indigo/include/mavlink/v1.0/common/common.h
a. copy  #define MAVLINK_MESSAGE_LENGTHS	{9,31,12,0,14,28,3,32,0,0,0,6,0,0,0,0,0,0,0,0,20,2,25,23,30,101,22,26,16,14,28,32,28,28,22,22,21,6,6,37,4,4,2,2,4,2,2,3,13,12,37,0,0,0,27,25,0,0,0,0,0,68,26,185,181,42,6,4,0,11,18,0,0,37,20,35,33,3,0,0,0,22,39,37,53,51,53,51,0,28,56,42,33,0,0,0,0,0,0,0,26,32,32,20,32,62,44,64,84,9,254,16,0,36,44,64,22,6,14,12,97,2,2,113,35,6,79,35,35,0,13,255,14,18,43,8,22,14,36,43,41,0,0,0,0,0,0,36,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,254,36,30,18,18,51,9,0}
#endif
b. copy  #define MAVLINK_MESSAGE_CRCS {50,124,137,0,237,217,104,119,0,0,0,89,0,0,0,0,0,0,0,0,214,159,220,168,24,23,170,144,67,115,39,246,185,104,237,244,222,212,9,254,230,28,28,132,221,232,11,153,41,39,78,0,0,0,15,3,0,0,0,0,0,153,183,51,82,118,148,21,0,243,124,0,0,38,20,158,152,143,0,0,0,106,49,22,143,140,5,150,0,231,183,63,54,0,0,0,0,0,0,0,175,102,158,208,56,93,138,108,32,185,84,34,0,124,237,4,76,128,56,116,134,237,203,250,87,203,220,25,226,0,29,223,85,6,229,203,1,195,109,168,181,0,0,0,0,0,0,154,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,156,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,204,49,170,44,83,46,0}
#endif
c. add  #include "./mavlink_msg_multi_adsb3.h"
#############warning: the steps above must be done in the pixhawk/mavlink.h file
d. the header file in c step is in ~/catkin_ws/src/uascode/src/MavLink/yc_common
e. add multi_adsb3.cpp to ~/catkin_ws/src/mavros/mavros/src/plugins
f. add src/plugins/multi_adsb3.cpp to add_library in CMakeLists.txt in mavros
g. add <class name="multi_adsb3" type="mavplugin::MultiAdsb3Plugin" base_class_type="mavplugin::MavRosPlugin">
                <description>to receive adsb and send it autopilot</description>
       </class>
   to mavros_plugins.xml
h. add yucong_rosmsg to dependency when necessary


 
